<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shop | Tanner Waldo</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Open+Sans&display=swap" rel="stylesheet">

  <!-- Payhip embed (once per page) -->
  <script type="text/javascript" src="https://payhip.com/payhip.js"></script>
  <script type="text/javascript">
    // Turn on the floating cart so multiple items can be added
    var PayhipConfig = { enableCart: true };
  </script>

  <!-- (Optional) small local tweaks for this page -->
  <style>
    .store-grid { display:flex; flex-wrap:wrap; gap:40px; justify-content:center; margin-top:40px; }
    .product-card { background:#fff; border:1px solid #e9edf5; border-radius:12px; box-shadow:0 6px 20px rgba(10,22,50,0.06); padding:22px; text-align:center; width:290px; }
    .product-img { max-width:100%; border-radius:8px; margin-bottom:14px; }
    .btn-row { display:flex; flex-direction:column; gap:10px; margin-top:12px; }
    .note { font-size:0.9rem; opacity:0.75; margin-top:8px; }
    .badge { display:inline-block; font-size:0.8rem; padding:4px 10px; border-radius:999px; background:#10223a; color:#fff; margin-top:8px; }
    /* Let Payhip buttons inherit your site button look */
    a.payhip-add-to-cart-button.btn { text-decoration:none; }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">Tanner Waldo</div>
      <ul class="nav-links">
        <li><a href="index.html#home">Home</a></li>
        <li><a href="index.html#about">About</a></li>
        <li><a href="index.html#contact">Contact</a></li>
        <li><a href="#" id="openModal">Free Chapter</a></li>
        <li><a href="tarot.html">Free Tarot Reading</a></li>
      </ul>
    </div>
  </nav>

  <!-- Store -->
  <section id="store" class="section">
    <h2>Get the Book</h2>
    <p>Support the author directly with secure checkout by Payhip.</p>

    <div class="store-grid">

      <!-- Hardcover (Payhip) -->
      <div class="product-card">
        <img src="cover.png" alt="Hardcover Edition" class="product-img">
        <h3>Hardcover</h3>
        <p class="price">)</p>
        <div class="btn-row">
          <!-- Your product ID: TzEZJ -->
          <a href="https://payhip.com/b/TzEZJ"
             class="payhip-add-to-cart-button btn preorder"
             data-theme="none"
             data-product="TzEZJ">Add Hardcover to Cart</a>
        </div>
      
        <p class="note"></p>
        <noscript><p><a href="https://payhip.com/b/TzEZJ" target="_blank" rel="noopener">Buy Hardcover</a></p></noscript>
      </div>

      <!-- Paperback (Payhip) -->
      <div class="product-card">
        <img src="cover.png" alt="Paperback Edition" class="product-img">
        <h3>Paperback</h3>
        <p class="price"></p>
        <div class="btn-row">
          <!-- Your product ID: tB0b5 -->
          <a href="https://payhip.com/b/tB0b5"
             class="payhip-add-to-cart-button btn preorder"
             data-theme="none"
             data-product="tB0b5">Add Paperback to Cart</a>
        </div>
    
        <p class="note"></p>
        <noscript><p><a href="https://payhip.com/b/tB0b5" target="_blank" rel="noopener">Buy Paperback</a></p></noscript>
      </div>

      <!-- eBook links (store links, not Payhip) -->
      <div class="product-card">
        <img src="cover.png" alt="eBook Edition" class="product-img">
        <h3>eBook</h3>
        <p class="price">Choose your store</p>
        <div class="btn-row">
          <a class="btn secondary" target="_blank" rel="noopener"
             href="https://books.apple.com/ca/book/every-light-in-every-window-every-tooth-in-every-mouth/id6746823660">Apple Books</a>
          <a class="btn secondary" target="_blank" rel="noopener"
             href="https://www.amazon.ca/Every-Light-Window-Tooth-Mouth-ebook/dp/B0FC7YYZ1M">Kindle</a>
          <a class="btn secondary" target="_blank" rel="noopener"
             href="https://www.kobo.com/ca/en/ebook/every-light-in-every-window-every-tooth-in-every-mouth">Kobo</a>
        </div>
      </div>

    </div>
  </section>

  <footer>
    <p>&copy; 2025 Tanner Waldo ¬∑ TannerWaldo.com</p>
  </footer>

  <!-- Free Chapter Modal (MailerLite) -->
  <div id="chapterModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeModal">&times;</span>
      <h2>Get the First Chapter Free</h2>
      <p>Sign up below to receive a free preview and updates about <em>Every Light in Every Window, Every Tooth in Every Mouth</em>.</p>
      <form id="signupForm"
            action="https://assets.mailerlite.com/jsonp/1770375/forms/164309175309960831/subscribe"
            method="post" class="signup-form">
        <input type="email" name="fields[email]" placeholder="Enter your email" required>
        <button type="submit">Send Me the Chapter</button>
      </form>
    </div>
  </div>

  <!-- Modal + MailerLite JS -->
  <script>
    const modal = document.getElementById("chapterModal");
    const openModal = document.getElementById("openModal");
    const closeModal = document.getElementById("closeModal");

    if (openModal) openModal.addEventListener("click", (e) => { e.preventDefault(); modal.style.display = "flex"; });
    if (closeModal) closeModal.addEventListener("click", () => modal.style.display = "none");
    window.addEventListener("click", (e) => { if (e.target === modal) modal.style.display = "none"; });

    const signupForm = document.getElementById("signupForm");
    if (signupForm) {
      signupForm.addEventListener("submit", function(e) {
        e.preventDefault();
        fetch(signupForm.action, { method: "POST", body: new FormData(signupForm) })
          .then(() => { signupForm.innerHTML = "<p>üéâ Thanks! Check your inbox for the free chapter.</p>"; })
          .catch(() => { signupForm.innerHTML = "<p>‚ö†Ô∏è Oops, something went wrong. Please try again.</p>"; });
      });
    }
  </script>
</body>
</html>
